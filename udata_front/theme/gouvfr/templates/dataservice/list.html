{% extends theme("layouts/1-column.html") %}
{% from theme('macros/paginator.html') import paginator with context %}
{% from theme('macros/sort_search.html') import sort_search %}

{% block breadcrumb %}
<li>
    <a class="fr-breadcrumb__link" aria-current="page">
        {{ _('Datasets') }}
    </a>
</li>
{% endblock %}

{% set meta = {
    'title': _('Datasets'),
    'description': _("%(site)s dataset search", site=config['SITE_TITLE']),
    'keywords': [_('search'), _('datasets')],
    'robots': 'noindex',
} %}

{% set bundle = 'search' %}

{% set sorts = [
    {"label": _('Creation date'),"value": "created", "order": "desc"},
    {"label": _('Last update'),"value": "last_update", "order": "desc"},
    {"label": _('Number of followers'),"value": "followers", "order": "desc"},
    {"label": _('Number of reuses'), "value": "reuses", "order": "desc"}
] %}

{% block main_content %}
<section
    class="fr-container fr-container--search vuejs fr-mb-4w"
>
    <h1 class="fr-mb-1w">{{_('Dataservices')}}</h1>
    <div class="fr-grid-row fr-grid-row--middle justify-between">
        <div>{{_('Search among %(count)s dataservices on %(site)s',count=current_site.metrics['dataservices']|format_number, site=current_site.title)}}</div>
        <a
            href="{{ url_for('datasets.list') }}"
            data-q
            class="fr-link fr-text--sm fr-m-0"
        >
            {{ _('Search datasets') }}
        </a>
    </div>
    <dataservices-search />
</section>
{% endblock %}
