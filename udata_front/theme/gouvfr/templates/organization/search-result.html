{% cache cache_duration, 'org-search-result', organization.id|string, g.lang_code %}
{% from theme('macros/certified.html') import badge_if_certified with context %}
<article class="fr-grid-row fr-grid-row--gutters fr-p-3v">
    <div class="fr-col-auto result-logo">
        <div class="logo">
            <img
                alt=""
                src="{{ organization.logo(70)|placeholder('organization') }}"
                width="70"
                height="70"
                
            >
            <div class="logo-badge">
                {{ badge_if_certified(organization) }}
            </div>
        </div>
    </div>
    <div class="result-body fr-col">
        <h4 class="result-title ellipsis">{{ organization.name }}</h4>
        <div class="result-description text-grey-380">
            {{ organization.description|mdstrip(300) }}
        </div>
    </div>
    <ul
        class="fr-grid-row fr-col-12 fr-col-md-2 self-center fr-mt-3v fr-mt-md-0 justify-end result-infos fs-sm text-align-right">
        {% if organization.metrics.datasets %}
        <li title="{{ _('Number of datasets') }}" class="fr-col-auto fr-col-md-12 fr-mr-2w fr-mr-md-0">
            {{ ngettext('%(num)d dataset', '%(num)d datasets', organization.metrics.datasets or 0) }}
        </li>
        {% endif %}
        {% if organization.metrics.reuses %}
        <li title="{{ _('Number of reuses by the organization') }}" class="fr-col-auto fr-col-md-12 fr-mr-2w fr-mr-md-0">
            {{ ngettext('%(num)d reuse', '%(num)d reuses', organization.metrics.reuses or 0) }}
        </li>
        {% endif %}
        {% if organization.metrics.followers %}
        <li title="{{ _('Number of followers') }}" class="fr-col-auto fr-col-md-12 fr-mr-2w fr-mr-md-0">
            {{ ngettext('%(num)d follower', '%(num)d followers', organization.metrics.followers or 0) }}
        </li>
        {% endif %}
        <li title="{{ _('Number of members') }}" class="fr-col-auto fr-col-md-12">
            {{ ngettext('%(num)d members', '%(num)d members', organization.members|length) }}
        </li>
    </ul>
</article>
{% endcache %}
